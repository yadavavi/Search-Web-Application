{"ast":null,"code":"var _jsxFileName = \"/home/adi-sin/Search-Web-Application/src/App.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { entryAttr } from \"./assets/filter\";\nimport { useEffect, useState } from \"react\";\nimport Home from \"./pages/Home\";\nimport SearchResult from \"./pages/SearchResult\";\nimport NotFound from \"./pages/NotFound\";\nimport MainLayout from \"./components/Layout/MainLayout.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [recordListDefault, setRecordListDefault] = useState([]);\n  const [recordList, setRecordList] = useState([]);\n  const [searchTerms, setSearchTerms] = useState(\"\");\n  const [productArr, setProductArr] = useState([]);\n  const [statusArr, setStatusArr] = useState([]);\n  const [checked, setChecked] = useState({\n    status: [],\n    productType: []\n  });\n  const history = useHistory();\n  useEffect(() => {\n    axios.get(\"./mockData.json\").then(res => {\n      setRecordListDefault(res.data);\n      setRecordList(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {}, [recordList]);\n\n  const reset = () => {\n    const newChecked = { ...checked\n    };\n    newChecked[\"productType\"] = [];\n    newChecked[\"status\"] = [];\n    setChecked(newChecked);\n    setSearchTerms(\"\");\n    onFilterHandler(newChecked);\n  };\n\n  useEffect(() => {\n    getProduct();\n  }, [searchTerms]);\n  useEffect(() => {\n    getProduct();\n  }, [productArr]);\n  useEffect(() => {\n    getProduct();\n  }, [statusArr]);\n\n  const getProduct = () => {\n    let records, recordsNew;\n    records = recordListDefault.filter(rec => {\n      return rec.material_name.toLowerCase().includes(searchTerms.toLowerCase());\n    });\n\n    if (productArr.length !== 0) {\n      recordsNew = records.filter(p => productArr.indexOf(p.product_type) !== -1);\n      records = recordsNew;\n    }\n\n    if (statusArr.length !== 0) {\n      recordsNew = records.filter(p => statusArr.indexOf(p.marker_poduct_status) !== -1);\n      records = recordsNew;\n    }\n\n    setRecordList(records);\n  };\n\n  const onSearchHandler = input => {\n    setSearchTerms(input);\n    let path = `result`;\n    history.push(path);\n  };\n\n  const onFilterHandler = input => {\n    setProductArr(input.productType);\n    setStatusArr(input.status);\n    getProduct();\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    onSearchHandler: onSearchHandler,\n    reset: reset,\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        children: /*#__PURE__*/_jsxDEV(Home, {\n          entryAttr: entryAttr,\n          check: checked,\n          setCheck: setChecked,\n          onFilterHandler: onFilterHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/result\",\n        children: /*#__PURE__*/_jsxDEV(SearchResult, {\n          entryAttr: entryAttr,\n          recordList: recordList,\n          check: checked,\n          setCheck: setChecked,\n          onFilterHandler: onFilterHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        children: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"WnlLWoOiab21eJqv7borKuTNiKU=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/adi-sin/Search-Web-Application/src/App.js"],"names":["Switch","Route","useHistory","axios","entryAttr","useEffect","useState","Home","SearchResult","NotFound","MainLayout","App","recordListDefault","setRecordListDefault","recordList","setRecordList","searchTerms","setSearchTerms","productArr","setProductArr","statusArr","setStatusArr","checked","setChecked","status","productType","history","get","then","res","data","catch","err","console","log","reset","newChecked","onFilterHandler","getProduct","records","recordsNew","filter","rec","material_name","toLowerCase","includes","length","p","indexOf","product_type","marker_poduct_status","onSearchHandler","input","path","push"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { entryAttr } from \"./assets/filter\";\n\nimport { useEffect, useState } from \"react\";\n\nimport Home from \"./pages/Home\";\nimport SearchResult from \"./pages/SearchResult\";\nimport NotFound from \"./pages/NotFound\";\n\nimport MainLayout from \"./components/Layout/MainLayout.js\";\n\nfunction App() {\n  const [recordListDefault, setRecordListDefault] = useState([]);\n  const [recordList, setRecordList] = useState([]);\n  const [searchTerms, setSearchTerms] = useState(\"\");\n  const [productArr, setProductArr] = useState([]);\n  const [statusArr, setStatusArr] = useState([]);\n  const [checked, setChecked] = useState({\n    status: [],\n    productType: [],\n  });\n  const history = useHistory();\n\n  useEffect(() => {\n    axios\n      .get(\"./mockData.json\")\n      .then((res) => {\n        setRecordListDefault(res.data);\n        setRecordList(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {}, [recordList]);\n\n  const reset = () => {\n    const newChecked = { ...checked };\n    newChecked[\"productType\"] = [];\n    newChecked[\"status\"] = [];\n    setChecked(newChecked);\n    setSearchTerms(\"\");\n    onFilterHandler(newChecked);\n  };\n\n  useEffect(() => {\n    getProduct();\n  }, [searchTerms]);\n  useEffect(() => {\n    getProduct();\n  }, [productArr]);\n  useEffect(() => {\n    getProduct();\n  }, [statusArr]);\n\n  const getProduct = () => {\n    let records, recordsNew;\n\n    records = recordListDefault.filter((rec) => {\n      return rec.material_name\n        .toLowerCase()\n        .includes(searchTerms.toLowerCase());\n    });\n\n    if (productArr.length !== 0) {\n      recordsNew = records.filter(\n        (p) => productArr.indexOf(p.product_type) !== -1\n      );\n      records = recordsNew;\n    }\n    if (statusArr.length !== 0) {\n      recordsNew = records.filter(\n        (p) => statusArr.indexOf(p.marker_poduct_status) !== -1\n      );\n      records = recordsNew;\n    }\n\n    setRecordList(records);\n  };\n\n  const onSearchHandler = (input) => {\n    setSearchTerms(input);\n    let path = `result`;\n    history.push(path);\n  };\n\n  const onFilterHandler = (input) => {\n    setProductArr(input.productType);\n    setStatusArr(input.status);\n    getProduct();\n  };\n\n  return (\n    <MainLayout onSearchHandler={onSearchHandler} reset={reset}>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home\n            entryAttr={entryAttr}\n            check={checked}\n            setCheck={setChecked}\n            onFilterHandler={onFilterHandler}\n          />\n        </Route>\n        <Route path=\"/result\">\n          <SearchResult\n            entryAttr={entryAttr}\n            recordList={recordList}\n            check={checked}\n            setCheck={setChecked}\n            onFilterHandler={onFilterHandler}\n          />\n        </Route>\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </MainLayout>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}